plugin.tx_comsolitsuggest {
	view {
		templateRootPath = {$plugin.tx_comsolitsuggest.view.templateRootPath}
		partialRootPath = {$plugin.tx_comsolitsuggest.view.partialRootPath}
		layoutRootPath = {$plugin.tx_comsolitsuggest.view.layoutRootPath}
	}
	persistence {
		storagePid = {$plugin.tx_comsolitsuggest.persistence.storagePid}		
	}
	features {
		# uncomment the following line to enable the new Property Mapper.
		# rewrittenPropertyMapper = 1
	}
	settings {
		minLength = {$plugin.tx_comsolitsuggest.settings.minLength}
		includeJquery = {$plugin.tx_comsolitsuggest.settings.includeJquery}
		placeholder = {$plugin.tx_comsolitsuggest.settings.placeholder}
		searchPid = {$plugin.tx_comsolitsuggest.settings.searchPid}
	}
}

# page for ajaxcall
ajaxCall = PAGE 
ajaxCall { 
	typeNum = 999 
    config {
		disableAllHeaderCode = 1
		disablePrefixComment = 1
		metaCharset = UTF-8
		xhtml_cleaning = 0
		admPanel = 0
		additionalHeaders = Content-type: application/json
		debug = 0
		no_cache = 0
	}
    100 = COA 
    100 < tt_content.list.20.comsolitsuggest_suggest
}

page {
	includeJSFooter {
		jquery = EXT:comsolit_suggest/bower_components/dist/jquery.min.js
		jquery.forceOnTop = 1
		typeahead = EXT:comsolit_suggest/bower_components/typeahead.js/dist/typeahead.bundle.min.js
		suggest = EXT:comsolit_suggest/Resources/Public/Js/suggest.js
	}
	includeCSS {
		suggest = EXT:comsolit_suggest/Resources/Public/Css/suggest.css
	}
}

plugin.tx_comsolit_suggest = USER
plugin.tx_comsolit_suggest {
    userFunc = TYPO3\CMS\Extbase\Core\Bootstrap->run
    pluginName = Suggest
    extensionName = ComsolitSuggest
    vendorName = TYPO3
    controller = Query
    action = suggest
    htmlSpecialChars = 1
    switchableControllerActions {
        Query {
            1 = suggest
        }
     }
    view =< plugin.tx_comsolitsuggest.view
    persistence =< plugin.tx_comsolitsuggest.persistence
}